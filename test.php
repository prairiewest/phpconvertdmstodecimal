<?php

require_once __DIR__."/convert.php";

$input = array(
    " N 53 03 47.7 ",
    " s53 03 47.7",
    " E53  03  47.7",
    " w53 03 47.7 ",
    "  53 03 47.7 n",
    " 53 03 47.7S",
    " 53  03  47.7e ",
    " W 53 03 47.7 ",
    " N53 03 47.7",
    " s.53.03.47.7 ",
    " E53.03.47.7",
    " w53..03..47.7",
    " n53.03.47.7 ",
    "  53.03.47.7 S",
    " 53.03.47.7e",
    " 53..03..47.7W ",
    " N.53.03.47.7 ",
    " s53.03.47.7",
    " E-53-03-47.7 ",
    " w53-03-47.7",
    " n53--03--47.7",
    " S53-03-47.7 ",
    "  53-03-47.7 e",
    " 53-03-47.7W",
    " 53--03--47.7N ",
    " s-53-03-47.7 ",
    " E53-03-47.7",
    "53.06325w",
    "53.06325","53.06325 s",
    "53.06325 N",
    "-53.06325",
    "53 03 47.7",
    "-53 03 47.7",
    "53 03 47.7W",
    "-53º 03' 47.7\"",
    "53º 03' 47.7\"",
    "53º 03' 47.7\"s",
    " N 144 35 26",
    " s144 35 26",
    "E 144  35 26",
    "144 35 26w",
    "N144.35.26",
    " 144.35.26s",
    "-144 35 26",
    "144º 35' 26\"w",
    "45°43'51''N",
    "009°44'23''E",
    " 50° 5' N",
    " -8°56'O"
);

$expectedOutput = array(
    "53.06325",
    "-53.06325",
    "53.06325",
    "-53.06325",
    "53.06325",
    "-53.06325",
    "53.06325",
    "-53.06325",
    "53.06325",
    "-53.06325",
    "53.06325",
    "-53.06325",
    "53.06325",
    "-53.06325",
    "53.06325",
    "-53.06325",
    "53.06325",
    "-53.06325",
    "53.06325",
    "-53.06325",
    "53.06325",
    "-53.06325",
    "53.06325",
    "-53.06325",
    "53.06325",
    "-53.06325",
    "53.06325",
    "-53.06325",
    "53.06325",
    "-53.06325",
    "53.06325",
    "-53.06325",
    "53.06325",
    "-53.06325",
    "-53.06325",
    "-53.06325",
    "53.06325",
    "-53.06325",
    "144.59055555556",
    "-144.59055555556",
    "144.59055555556",
    "-144.59055555556",
    "144.59055555556",
    "-144.59055555556",
    "-144.59055555556",
    "-144.59055555556",
    "45.730833333333",
    "9.7397222222222",
    "50.083333333333",
    "-8.9333333333333"
);

$converter = new DmsToDecimalConverter();

foreach ($input as $index => $entryValue) {
	$outputValue = $converter->convert($entryValue);
	$expectedOutputValue = $expectedOutput[$index];

	if ($expectedOutputValue != $outputValue) {
        throw new \InvalidArgumentException(
            "Error at index $index: expected '$expectedOutputValue', got '$outputValue'"
        );
    }

    echo $entryValue . " => " . $outputValue . PHP_EOL;
}
